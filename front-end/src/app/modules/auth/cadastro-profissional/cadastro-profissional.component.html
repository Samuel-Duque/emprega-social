<!-- Header -->
<div class="max-w-full h-screen">
  <nav class="fixed w-full bg-white border-b-2 border-cgray-light">
    <div class="max-w-screen-sm flex items-center justify-between mx-auto p-3">
      <div class="items-center justify-center flex">
        <a href="/" class="flex items-center">
          <img src="assets/icons/logotipo.svg" class="h-12.5" alt="Logo Emprega Social" />
        </a>
        <span class="font-medium text-lg border-l-2 border-l-secondary px-4 ml-5 text-secondary">Cadastro</span>
      </div>

      <a href="/"
        class="flex items-center space-x-3 rtl:space-x-reverse cursor-pointer justify-center sm:flex w-auto hover:bg-red-100 p-2 rounded-lg">
        <svg width="31" height="33" viewBox="0 0 31 33" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M10.3318 3.77614C10.3318 1.96734 11.7493 0.5 13.4968 0.5H27.8373C28.6763 0.500612 29.4808 0.846045 30.0738 1.46037C30.6669 2.0747 31.0001 2.90765 31.0001 3.77614V29.2239C31.0001 30.0927 30.6666 30.926 30.0731 31.5404C29.4795 32.1548 28.6745 32.5 27.8351 32.5H16.9136C17.0852 32.0063 17.1811 31.4733 17.1811 30.9196V26.7252C17.1811 26.5337 17.1722 26.3446 17.1588 26.1554C17.5466 26.2269 17.9434 26.2638 18.3423 26.2638H21.4003C22.4734 26.2638 23.5104 25.8632 24.321 25.1354C25.1317 24.4077 25.6615 23.4017 25.8133 22.3021C25.965 21.2025 25.7285 20.0832 25.1472 19.1496C24.5658 18.216 23.6786 17.5308 22.6485 17.2198C23.3666 16.5256 23.9211 15.6701 24.2693 14.7191C24.6176 13.7682 24.7504 12.7471 24.6573 11.7347C24.5643 10.7222 24.248 9.74537 23.7328 8.87941C23.2175 8.01344 22.5171 7.28146 21.6855 6.73985C20.8539 6.19824 19.9133 5.86146 18.9361 5.75545C17.959 5.64944 16.9713 5.77703 16.0493 6.12839C15.1273 6.47976 14.2955 7.04552 13.618 7.78208C12.9405 8.51865 12.4354 9.40637 12.1416 10.3769C11.5654 10.1233 10.9577 9.95478 10.3362 9.87621V3.77614H10.3318ZM14.6335 12.3633C14.6335 11.3659 15.0163 10.4094 15.6976 9.70413C16.3789 8.99888 17.303 8.60267 18.2666 8.60267C19.2301 8.60267 20.1542 8.99888 20.8355 9.70413C21.5168 10.4094 21.8996 11.3659 21.8996 12.3633C21.8996 13.3607 21.5168 14.3172 20.8355 15.0225C20.1542 15.7277 19.2301 16.1239 18.2666 16.1239C17.303 16.1239 16.3789 15.7277 15.6976 15.0225C15.0163 14.3172 14.6335 13.3607 14.6335 12.3633ZM14.8185 16.1009L14.823 16.1078L18.144 19.5454C18.1699 19.5725 18.2008 19.594 18.2349 19.6087C18.2689 19.6233 18.3055 19.6309 18.3423 19.6308H21.3981C21.9153 19.6308 22.4114 19.8435 22.7771 20.2221C23.1429 20.6006 23.3484 21.1141 23.3484 21.6495C23.3484 22.1849 23.1429 22.6984 22.7771 23.077C22.4114 23.4556 21.9153 23.6683 21.3981 23.6683H18.3423C17.2346 23.6683 16.1714 23.2138 15.3869 22.4017L13.4388 20.3852L11.8563 22.0233L13.4477 23.666C14.2301 24.4781 14.6714 25.5786 14.6714 26.7252V30.3428C14.6714 30.8782 14.4659 31.3917 14.1002 31.7703C13.7344 32.1489 13.2384 32.3616 12.7211 32.3616C12.2039 32.3616 11.7078 32.1489 11.3421 31.7703C10.9763 31.3917 10.7709 30.8782 10.7709 30.3428V26.7252C10.7704 26.6489 10.7408 26.5759 10.6884 26.5222L9.07248 24.8472C8.34557 25.4189 7.45783 25.7284 6.54494 25.7285H2.05377C1.53653 25.7285 1.04048 25.5159 0.674733 25.1373C0.308989 24.7587 0.103516 24.2452 0.103516 23.7098C0.103516 23.1744 0.308989 22.6609 0.674733 22.2823C1.04048 21.9037 1.53653 21.6911 2.05377 21.6911H6.54494C6.58182 21.6911 6.61834 21.6836 6.65239 21.669C6.68644 21.6543 6.71735 21.6328 6.74331 21.6057L10.6795 17.529L9.72553 16.5438C9.67364 16.4896 9.60311 16.4589 9.52939 16.4585H5.47731C4.96007 16.4585 4.46402 16.2458 4.09827 15.8672C3.73253 15.4886 3.52705 14.9751 3.52705 14.4397C3.52705 13.9043 3.73253 13.3908 4.09827 13.0123C4.46402 12.6337 4.96007 12.421 5.47731 12.421H9.53162C10.6394 12.421 11.7025 12.8778 12.4849 13.6899L14.8118 16.0962L14.8185 16.1009Z"
            fill="#FF2828" />
        </svg>
        <span class="font-medium hidden sm:block text-erro">Desistir do cadastro</span>
      </a>
    </div>
  </nav>

  <div class="w-full max-w-screen-sm m-auto p-4 flex flex-col">
    <div class="mt-28">
      <span class="font-medium text-primary">Candidato</span>
      <h1 class="font-semibold text-3xl">O começo de uma nova jornada</h1>
      <h2 class="text-gray-500 font-flight mt-1 pb-6 border-b-2 border-b-gray-200">
        Preencha os campos abaixo para criar uma nova conta
      </h2>
    </div>

    <form [formGroup]="cadastroForm" class="(grid md:grid-cols-2 md:gap-6 md:gap-x-28) mt-6">
      <div class="mb-5">
        <label for="name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Nome</label>
        <input type="text" autocomplete="name" id="name" formControlName="name"
          class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-hover focus:border-primary block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-hover dark:focus:border-primary dark:shadow-sm-light"
          placeholder="Insira seu primeiro nome aqui" required />
      </div>

      <div class="mb-5">
        <label for="lastName" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Sobrenome</label>
        <input type="text" id="lastName" autocomplete="family-name" formControlName="lastName"
          class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-hover focus:border-primary block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-hover dark:focus:border-primary dark:shadow-sm-light"
          placeholder="Insira seu sobrenome aqui" required />
      </div>

      <div class="mb-5">
        <label for="data-nascimento" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Data de
          nascimento</label>
        <input type="date" id="data-nascimento" formControlName="dataNascimento" placeholder="dd/mm/aaaa"
          class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-hover focus:border-primary block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-hover dark:focus:border-primary dark:shadow-sm-light"
          required />
      </div>

      <div class="mb-5">
        <label for="email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Seu email</label>
        <input type="email" autocomplete="email" id="email" formControlName="email"
          class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-hover focus:border-primary block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-hover dark:focus:border-primary dark:shadow-sm-light"
          placeholder="Digite seu email" required />
      </div>

      <div class="mb-5">
        <label for="password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Sua senha</label>
        <input type="password" autocomplete="new-password" id="password" formControlName="password" (input)="password?.updateValueAndValidity()"
          class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-hover focus:border-primary block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-hover dark:focus:border-primary dark:shadow-sm-light"
          required />
        <h3 class="mt-6 mb-2 text-lg font-semibold text-gray-900 dark:text-white">
          É necessário:
        </h3>
        <ul class="max-w-md space-y-1 text-gray-500 list-inside dark:text-gray-400">
          <li [ngClass]="{
              'text-green-600': hasMinLength(),
              'text-gray-500': !hasMinLength()
            }" class="flex items-center">
            <svg [ngClass]="{
                'text-green-600': hasMinLength(),
                'text-gray-500': !hasMinLength()
              }" class="icon w-3.5 h-3.5 me-2 flex-shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
              fill="currentColor" viewBox="0 0 20 20">
              <path
                d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" />
            </svg>
            Pelo menos 6 caracteres
          </li>
          <li [ngClass]="{
              'text-green-600': hasUpperCase(),
              'text-gray-500': !hasUpperCase()
            }" class="flex items-center">
            <svg [ngClass]="{
                'text-green-600': hasUpperCase(),
                'text-gray-500': !hasUpperCase()
              }" class="icon w-3.5 h-3.5 me-2 flex-shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
              fill="currentColor" viewBox="0 0 20 20">
              <path
                d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" />
            </svg>
            Uma letra maiúscula
          </li>
          <li [ngClass]="{
              'text-green-600': hasSpecialChar(),
              'text-gray-500': !hasSpecialChar()
            }" class="flex items-center">
            <svg [ngClass]="{
                'text-green-600': hasSpecialChar(),
                'text-gray-500': !hasSpecialChar()
              }" class="icon w-3.5 h-3.5 me-2 flex-shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
              fill="currentColor" viewBox="0 0 20 20">
              <path
                d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" />
            </svg>
            Um caractere especial (!&#64;#$%^&*)
          </li>
        </ul>
      </div>
      <div class="mb-5">
        <label for="repeat-password" class="block mb-2 text-sm font-medium focus:ring-primary-hover focus:border-primary text-gray-900 dark:text-white">Confirme a
          senha</label>
          <input type="password" autocomplete="new-password" id="repeat-password" formControlName="repeatPassword" (input)="password?.updateValueAndValidity()"
          class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-hover focus:border-primary block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-hover dark:focus:border-primary dark:shadow-sm-light"
          required />
        <span *ngIf="!checkPasswordMatch() && repeatPassword?.touched" class="text-erro font-flight">As senhas não
          correspondem.</span>
        <span *ngIf="checkPasswordMatch() && repeatPassword?.touched" class="text-primary-hover font-flight">As senhas
          correspondem.</span>
      </div>

      <div class="flex items-start mb-5">
        <div class="flex items-center h-5">
          <input id="terms" type="checkbox" formControlName="terms"
            class="w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800"
            required />
        </div>
        <label for="terms" class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">Eu concordo com os
          <a href="#" class="text-blue-600 hover:underline dark:text-blue-500">termos e condições</a></label>
      </div>

      <button type="button" [disabled]="!cadastroForm.valid || isLoading"
      [ngClass]="{'opacity-40 cursor-no-drop': !cadastroForm.valid, 'opacity-100 hover:bg-primary-hover': cadastroForm.valid}"
      class="text-white flex items-center justify-center bg-primary focus:ring-4 focus:outline-none focus:ring-primary font-semibold rounded-md text-sm px-5 w-full py-2.5 text-center"
      (click)="register()">
      @if (isLoading) {
      <svg aria-hidden="true" role="status" class="inline w-4 h-4 me-3 text-white animate-spin"
        viewBox="0 0 100 101" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"
          fill="#E5E7EB" />
        <path
          d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"
          fill="currentColor" />
      </svg>
      Criando conta...

      }
      @else {
      Cadastrar
      }
    </button>
    </form>
  </div>
</div>
